package InsurantDataRunSteps;

import java.time.Duration;
import java.util.List;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.edge.EdgeDriver;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.Select;
import org.openqa.selenium.support.ui.WebDriverWait;

import io.cucumber.java.en.Given;
import io.cucumber.java.en.Then;

public class Runstepbystep {

	public static WebDriver driver;
	
	@Given("User gives application URL")
	public void usergivesapplicationurl() {
		System.setProperty("webdriver.edge.driver", "C:\\Users\\Vishal\\Automation Testing\\VehicleInsuranceProject\\MyBro\\msedgedriver.exe");
		 driver = new EdgeDriver();
		 driver.manage().window().maximize();
		 driver.get("https://sampleapp.tricentis.com/101/app.php");
	    
	}
	@Then("check whether user logged into home page")
	public void checkwhetheruserloggedintohomepage() {
		System.out.println("The Home page title is: " +driver.getTitle());
	    
	}
	@Then("check whether user logged into vehicle insurant page")
	public void checkwhetheruserloggedintovehicleinsurantpage() {
		WebElement idclick = new WebDriverWait(driver, Duration.ofSeconds(10))
	 	        .until(ExpectedConditions.elementToBeClickable(By.xpath("//button[@id='nextenterinsurantdata']")));
    	idclick.click();
	 
	    
	}
	@Then("Enter details of user")
	public void enterdetailsofuser() {
		driver.findElement(By.xpath("//input[@id='firstname']")).sendKeys("John");
		 driver.findElement(By.xpath("//input[@id='lastname']")).sendKeys("Doe");
			driver.findElement(By.xpath("//input[@id='birthdate']")).sendKeys("01/01/1990");
			driver.findElement(By.xpath("//label[input[@id='gendermale']]/span")).click();
			driver.findElement(By.xpath("//input[@id='streetaddress']")).sendKeys("KPHB");
			WebElement countries = driver.findElement(By.xpath("//select[@id='country']"));
			List<WebElement> allcountries = driver.findElements(By.tagName("option"));
			Select sallcountries = new Select(countries);
			sallcountries.selectByVisibleText("India");
			driver.findElement(By.xpath("//input[@id='zipcode']")).sendKeys("600001");
			driver.findElement(By.xpath("//input[@id='city']")).sendKeys("Chennai");
          WebElement occupations = driver.findElement(By.xpath("//select[@id='occupation']"));
			List<WebElement> alloccupations = driver.findElements(By.tagName("option"));
			Select salloccupation = new Select(occupations);
			salloccupation.selectByVisibleText("Employee");
			 driver.findElement(By.xpath("//label[input[@id='speeding']]")).click();
		
	}
	@Then("Click on next button")
	public void clickonnextbutton() {
		 driver.findElement(By.xpath("//button[@id='nextenterproductdata']")).click();
	}


}
